<%= form_for([@room, @room.reservations.new]) do |f| %>

    <div class="row">
        <div class="col-md-12 price_tag">
            <span>€ <%= @room.price %></span>
            <span class="pull-right">par nuit</span>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <label>Arrivée</label>
            <%= f.text_field :start_date, readonly: 'true', placeholder: 'jj/mm/aaa', class: 'form-control' %>
        </div>
        <div class="col-md-6">
            <label>Départ</label>
            <%= f.text_field :end_date, readonly: 'true', placeholder: 'jj/mm/aaa', class: 'form-control' %>
        </div>
    </div>
    
    <%= f.hidden_field :room_id, value: @room.id %>
    <%= f.hidden_field :price, value: @room.price %>
    <%= f.hidden_field :total, id: 'reservation_total' %>

    <br>

    <div class="preview" style="display: none">
        <table class="reservation-table">
            <tbody>
                <tr>
                    <td>Nuit(s)</td>
                    <td><span id="reservation_days"></span></td>
                </tr>
                <tr>
                    <td>Total</td>
                    <td><span id="reservation_sum"></span>€</td>
                </tr>
            </tbody>
        </table>
    </div>

    <%= f.submit "Demande de réservation", class: "btn btn-primary wide" %>

<% end %>

<script>
    $(function() {
        $('#reservation_start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            monthNames: ['Janvier', 'Fevrier', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Decembre'],
            dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S']
        });
        $('#reservation_end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            monthNames: ['Janvier', 'Fevrier', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Decembre'],
            dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S']
        });
    })
</script>